{% extends "base.html" %}
{% block body %}

    
    {# Form error notifications. #}
    {% if form.errors %}
        <div class="container">
                {% for field_name, field_errors in form.errors|dictsort
                        if field_errors %}
                    {% for error in field_errors %}
                        <div class="alert alert-danger alert-dismissable"
                                role="alert">
                            <button type="button" class="close"
                                    data-dismiss="alert">
                                <span class="glyphicon glyphicon-remove"
                                        aria-hidden="true">
                                </span>
                                <span class="sr-only">
                                    Dismiss
                                </span>
                            </button>
                            {{ form[field_name].label }}: {{ error }}
                        </div> {# end alert #}
                    {% endfor %}
                {% endfor %}
        </div> {# end container #}
    {% endif %}
    
    {% for pic in post.pictures %}
        <img src="{{ '/static/uploads/{}/{}/{}'.format(current_user.id,
                post.id, pic.filename) }}" class="img-reponsive img-rounded"
            alt="{{ '{}'.format(pic.filename) }}">
    {% endfor %}

    <form action="/edit/{{ post.id }}" method=post
            enctype="multipart/form-data" accept-charset="utf-8">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.pics.label }}
            {{ form.pics(multiple="") }}
        </div>
        <div class="form-group">
            {{ form.title.label }}
            {{ form.title(class_="form-control", size=40) }}
        </div>
        <div class="form-group">
            {{ form.subtitle.label }}
            {{ form.subtitle(class_="form-control", size=40) }}
        </div>
        <div class="form-group">
            {{ form.body.label }}
            {{ form.body(class_="form-control") }}
        </div>
        {{ form.submit(class_="btn btn-default") }}
    </form>
    {% include 'footer.html' %}
{% endblock %}
