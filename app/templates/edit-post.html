{% extends "base.html" %}
{% block body %}

    {# Form error notifications. #}
    {% if form.errors %}
        <ul class="errors">
            {% for field_name, field_errors in form.errors|dictsort if field_errors %}
                {% for error in field_errors %}
                    <li>
                        {{ form[field_name].label }}: {{ error }}
                    </li>
                {% endfor %}
            {% endfor %}
        </ul>
    {% endif %}
    
    {% for pic in post.pictures %}
        <img src="{{ '/static/uploads/{}/{}/{}'.format(current_user.id,
                post.id, pic.filename) }}" class="img-reponsive img-rounded"
            alt="{{ '{}'.format(pic.filename) }}">
    {% endfor %}

    <form action="/edit/{{ post.id }}" method=post enctype="multipart/form-data" accept-charset="utf-8">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.pics.label }}
            {{ form.pics(multiple="") }}
        </div>
        <div class="form-group">
            {{ form.title.label }}
            {{ form.title(class_="form-control", size=40) }}
        </div>
        <div class="form-group">
            {{ form.subtitle.label }}
            {{ form.subtitle(class_="form-control", size=40) }}
        </div>
        <div class="form-group">
            {{ form.body.label }}
            {{ form.body(class_="form-control") }}
        </div>
        {{ form.submit(class_="btn btn-default") }}
    </form>
    {% include 'footer.html' %}
{% endblock %}
